<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <!-- prorrateo.iva tree view -->
    <record id="prorrateo_iva_view_tree" model="ir.ui.view">
        <field name="name">prorrateo.iva.view.tree</field>
        <field name="model">prorrateo.iva</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>                
                <field name="desde"/>                
                <field name="hasta"/>                
                <field name="state"/>                
            </tree>
        </field>
    </record>

    <!-- prorrateo.iva form view -->
    <record id="prorrateo_iva_view_form" model="ir.ui.view">
        <field name="name">prorrateo.iva.view.form</field>
        <field name="model">prorrateo.iva</field>
        <field name="arch" type="xml">
            <form string="Prorrateo de IVA">
                <header>
                    <button name="search_invoice" type="object" string="Buscar Facturas" />
                    <button name="post" type="object" string="Publicar" />
                    <button name="draft" type="object" string="Volver a Borrador" />
                    <field name="state" widget="statusbar" statusbar_visible="draft,posted"/>
                </header>
                <sheet>
                    <div class="oe_title">
                        <h1><field name="name" readonly="1"/></h1>
                    </div>
                    <group string="InformaciÃ³n de Prorrateo">                        
                        <group>
                            <field name="desde"/>                      
                            <field name="deducible"/>                      
                            <field name="company_id"/>                      
                        </group>
                        <group>                        
                            <field name="hasta"/>                      
                            <field name="no_deducible"/>    
                            <field name="move_id"/>                       
                        </group>
                    </group>
                    <notebook>
                        <page name="line_prorrateo" string="Lineas de Prorrateo">
                            <field name="data_prorrateo_id" readonly="1">
                                <tree>
                                    <field name="cliente"/>
                                    <field name="n_factura"/>
                                    <field name="cuenta"/>
                                    <field name="credito_fiscal"/>
                                    <field name="deducible"/>
                                    <field name="no_deducible"/>
                                    <!-- <field name="tipo"/> -->
                                </tree>
                            </field>
                            <group class="oe_subtotal_footer">
                                <field name="total_deducible"/>                      
                                <field name="total_no_deducible"/>                      
                            </group>

                        </page>
                        <page name="facturas_cliente" string="Facturas Clientes">
                            <field name="sale_invoice_ids" readonly="1">
                                <tree>
                                    <field name="invoice_number_cli" string="Nro Factura"/>
                                    <field name="partner_id" string="Cliente"/>
                                    <field name="amount_untaxed_signed" string="Base Imponible"/>
                                    <field name="amount_tax_signed" string="Impuesto"/>
                                    <field name="amount_total_signed" string="Total Factura"/>
                                    <field name="state" string="Estado"/>
                                </tree>
                            </field>

                            <group class="oe_subtotal_footer">
                                <field name="sale_amount_untaxed_signed"/>                      
                                <field name="sale_amount_tax"/>                      
                                <field name="sale_amount_total_signed"/>     
                                <hr />
                                <field name="ventas_gravadas"/>                      
                                <field name="ventas_totales"/>    
                            </group>

                        </page>
                        <page name="facturas_proveedores" string="Facturas Proveedores">
                            <field name="purchase_invoice_ids" readonly="1">
                                <tree>
                                    <field name="invoice_number_pro" string="Nro Factura"/>
                                    <field name="partner_id" string="Proveedor"/>
                                    <field name="amount_untaxed_signed" string="Base Imponible"/>
                                    <field name="amount_tax_signed" string="Impuesto"/>
                                    <field name="amount_total_signed" string="Total Factura"/>
                                    <field name="state" string="Estado"/>
                                </tree>
                            </field>
                            <group class="oe_subtotal_footer">
                                <field name="purchase_amount_untaxed_signed"/>                      
                                <field name="purchase_amount_tax"/>                      
                                <field name="purchase_amount_total_signed"/>                      
                            </group>
                        </page>
<!--
                        <page name="asientos" string="Asientos Contables">
                            <field name="move_ids" readonly="1">
                                <tree>
                                    <field name="account_id"/>               
                                    <field name="amount_currency" invisible="1"/>               
                                    <field name="debit"/>               
                                    <field name="credit"/>               
                                    <field name="debit_aux" string="Debe $"/>               
                                    <field name="credit_aux" string="Haber $"/>               
                                </tree>
                            </field>
                        </page>-->

                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <record id="action_prorrateo_iva" model="ir.actions.act_window">
        <field name="name">Prorrateo de IVA</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">prorrateo.iva</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem   name="Prorrateo de IVA" 
                parent="account.menu_finance_reports" 
                id="prorrateo_iva_menu" 
                action="action_prorrateo_iva"
                sequence="6"
                />
</odoo>